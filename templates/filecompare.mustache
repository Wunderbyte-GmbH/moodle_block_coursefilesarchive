{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see http://www.gnu.org/licenses/.
}}

{{!
    @template block_coursefilesarchive/filecompare
    @package    block_coursefilesarchive
    @version    See the value of '$plugin->version' in version.php.
    @copyright  &copy; 2023 G J Barnard.
    @author     G J Barnard - {@link http://about.me/gjbarnard} and
                              {@link http://moodle.org/user/profile.php?id=442195}
    @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later

    This template renders the file compare page.

    Classes required for JS:
    * none.

    Data attributes required for JS:
    * none.

    Context variables required for this template:
    * cfafiles array List of files.
    * hascfafiles bool Has files to show.
    * returnlink url of the course page containing the block instance.

    Example context (json):
    {
        "cfafiles": [
                        {"pathname": "Test.txt", "statecoursearchive": true,"timestamp": "2023-02-27-18-15"},
                        {"pathname": "Debug.txt", "statecourse": true,"timestamp": "2023-01-30-17-32"},
                        {"pathname": "Verify.txt", "statearchive": true,"timestamp": "2023-03-01-18-43"}
                    ],
        "hasfiles": true,
        "returnlink": "http://www.moodlebites.com/course/view.php?id=24"
    }
}}
<div class="container">
    <h1>{{#str}}cfafilecomparison, block_coursefilesarchive{{/str}}</h1>
    {{#hascfafiles}}
    <table id="cfafilecomparison" class="table">
        <thead>
            <th scope="col">{{#str}}cfapathname, block_coursefilesarchive{{/str}}</th>
            <th scope="col">{{#str}}cfastate, block_coursefilesarchive{{/str}}</th>
            <th scope="col">{{#str}}cfatimestamp, block_coursefilesarchive{{/str}}</th>
        </thead>
        <tbody>
        {{#cfafiles}}
            <tr>
                <td class="cfaname">{{pathname}}</td>
                <td class="cfastate
                    {{#stateunknown}} cfastateunknown">{{#str}}cfastateunknown, block_coursefilesarchive{{/str}}{{/stateunknown}}
                    {{#statecoursearchive}} cfastatecoursearchive"><span class="cfastateicon fa fa-lg fa-check" title="{{#str}}cfastatecoursearchive, block_coursefilesarchive{{/str}}" aria-hidden="true"></span><span class="sr-only">{{#str}}cfastatecoursearchive, block_coursefilesarchive{{/str}}</span>{{/statecoursearchive}}
                    {{#statearchive}} cfastatearchive"><span class="cfastateicon fa fa-lg fa-check" title="{{#str}}cfastatearchive, block_coursefilesarchive{{/str}}" aria-hidden="true"></span><span class="sr-only">{{#str}}cfastatearchive, block_coursefilesarchive{{/str}}</span>{{/statearchive}}
                    {{#statecourse}} cfastatecourse"><span class="cfastateicon fa fa-lg fa-times" title="{{#str}}cfastatecourse, block_coursefilesarchive{{/str}}" aria-hidden="true"></span><span class="sr-only">{{#str}}cfastatecourse, block_coursefilesarchive{{/str}}</span>{{/statecourse}}
                </td>
                <td class="cfatimestamp">{{timestamp}}</td>
            </tr>
        {{/cfafiles}}
        </tbody>
    </table>
    {{/hascfafiles}}
    {{^hascfafiles}}
    <p>{{#str}}nofilestocompare, block_coursefilesarchive{{/str}}</p>
    {{/hascfafiles}}
    <p><a href="{{{returnlink}}}">{{#str}}returncourse, block_coursefilesarchive{{/str}}</a></p>
</div>
